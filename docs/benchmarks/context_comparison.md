# üìä Context Length Comparison: 4096 vs 8192

‡∏£‡∏≤‡∏¢‡∏á‡∏≤‡∏ô‡∏ô‡∏µ‡πâ‡πÄ‡∏õ‡∏£‡∏µ‡∏¢‡∏ö‡πÄ‡∏ó‡∏µ‡∏¢‡∏ö‡∏õ‡∏£‡∏∞‡∏™‡∏¥‡∏ó‡∏ò‡∏¥‡∏†‡∏≤‡∏û‡∏£‡∏∞‡∏´‡∏ß‡πà‡∏≤‡∏á‡∏Å‡∏≤‡∏£‡∏ï‡∏±‡πâ‡∏á‡∏Ñ‡πà‡∏≤ Context 4096 tokens (Baseline) ‡πÅ‡∏•‡∏∞ 8192 tokens (Experiment) ‡∏ö‡∏ô‡πÇ‡∏°‡πÄ‡∏î‡∏• Qwen2.5-72B-Instruct-GPTQ-Int8

## üìà TPS Comparison Graph
‡∏Ñ‡∏ß‡∏≤‡∏°‡πÄ‡∏£‡πá‡∏ß‡πÉ‡∏ô‡∏Å‡∏≤‡∏£‡∏õ‡∏£‡∏∞‡∏°‡∏ß‡∏•‡∏ú‡∏• (Tokens Per Second) ‡πÄ‡∏ó‡∏µ‡∏¢‡∏ö‡∏£‡∏∞‡∏´‡∏ß‡πà‡∏≤‡∏á‡∏™‡∏≠‡∏á‡∏Ñ‡∏ß‡∏≤‡∏°‡∏¢‡∏≤‡∏ß Context:

```mermaid
xychart-beta
    title "Throughput (TPS) Comparison: 4096 vs 8192"
    x-axis ["Short", "Medium", "Thai", "Extreme"]
    y-axis "TPS"
    bar [12.70, 12.19, 11.93, 11.22]
    bar [5.33, 9.83, 9.29, 9.57]
```

> [!NOTE]
> ‡∏Ñ‡πà‡∏≤ TPS ‡∏Ç‡∏≠‡∏á 8192 ‡πÉ‡∏ô‡∏´‡∏°‡∏ß‡∏î **Short** ‡∏ï‡πà‡∏≥‡∏Å‡∏ß‡πà‡∏≤‡∏õ‡∏Å‡∏ï‡∏¥‡πÄ‡∏ô‡∏∑‡πà‡∏≠‡∏á‡∏à‡∏≤‡∏Å‡∏£‡∏ß‡∏°‡πÄ‡∏ß‡∏•‡∏≤‡πÇ‡∏´‡∏•‡∏î/Compile ‡∏Ñ‡∏£‡∏±‡πâ‡∏á‡πÅ‡∏£‡∏Å‡∏´‡∏•‡∏±‡∏á‡∏à‡∏≤‡∏Å‡∏£‡∏±‡∏ô vLLM ‡πÉ‡∏´‡∏°‡πà‡∏Ñ‡∏£‡∏±‡∏ö ‡∏´‡∏≤‡∏Å‡∏ß‡∏±‡∏î‡∏ï‡∏≠‡∏ô‡πÄ‡∏Ñ‡∏£‡∏∑‡πà‡∏≠‡∏á‡∏£‡πâ‡∏≠‡∏ô‡∏Ñ‡∏ß‡∏≤‡∏°‡πÄ‡∏£‡πá‡∏ß‡∏à‡∏∞‡∏™‡∏π‡∏á‡∏Å‡∏ß‡πà‡∏≤‡∏ô‡∏µ‡πâ

---

## üîç Detailed Analysis

| Category | 4096 (TPS) | 8192 (TPS) | Performance Change |
| :--- | :---: | :---: | :---: |
| **Short** | 12.70 | 5.33 | -58% (Warmup) |
| **Medium** | 12.19 | 9.83 | -19.3% |
| **Thai-Test** | 11.93 | 9.29 | -22.1% |
| **Extreme-Fiction** | 11.22 | 9.57 | **-14.7%** |

### **‡∏ö‡∏ó‡∏™‡∏£‡∏∏‡∏õ‡πÅ‡∏•‡∏∞‡∏Ñ‡∏≥‡πÅ‡∏ô‡∏∞‡∏ô‡∏≥**
1.  **Trade-off ‡∏ó‡∏µ‡πà‡∏Ñ‡∏∏‡πâ‡∏°‡∏Ñ‡πà‡∏≤**: ‡πÅ‡∏°‡πâ‡∏Ñ‡∏ß‡∏≤‡∏°‡πÄ‡∏£‡πá‡∏ß‡πÄ‡∏â‡∏•‡∏µ‡πà‡∏¢‡∏à‡∏∞‡∏•‡∏î‡∏•‡∏á‡∏õ‡∏£‡∏∞‡∏°‡∏≤‡∏ì **15-20%** ‡πÅ‡∏ï‡πà‡πÄ‡∏£‡∏≤‡πÑ‡∏î‡πâ‡∏û‡∏∑‡πâ‡∏ô‡∏ó‡∏µ‡πà Context ‡πÄ‡∏û‡∏¥‡πà‡∏°‡∏Ç‡∏∂‡πâ‡∏ô‡∏ñ‡∏∂‡∏á **2 ‡πÄ‡∏ó‡πà‡∏≤ (8,192 tokens)** ‡∏ã‡∏∂‡πà‡∏á‡∏à‡∏≥‡πÄ‡∏õ‡πá‡∏ô‡∏°‡∏≤‡∏Å‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö‡∏Å‡∏≤‡∏£‡∏ó‡∏≥ RAG ‡∏ó‡∏µ‡πà‡∏°‡∏µ‡πÄ‡∏≠‡∏Å‡∏™‡∏≤‡∏£‡∏¢‡∏≤‡∏ß‡πÜ
2.  **‡∏õ‡∏£‡∏∞‡∏™‡∏¥‡∏ó‡∏ò‡∏¥‡∏†‡∏≤‡∏û‡∏Ñ‡∏ß‡∏≤‡∏°‡∏à‡∏≥**: ‡∏ó‡∏µ‡πà‡∏Ñ‡∏ß‡∏≤‡∏°‡∏¢‡∏≤‡∏ß 8192 tokens ‡πÇ‡∏°‡πÄ‡∏î‡∏•‡∏¢‡∏±‡∏á‡∏™‡∏≤‡∏°‡∏≤‡∏£‡∏ñ‡∏ó‡∏≥‡∏Ñ‡∏ß‡∏≤‡∏°‡πÄ‡∏£‡πá‡∏ß‡πÑ‡∏î‡πâ‡πÉ‡∏Å‡∏•‡πâ‡πÄ‡∏Ñ‡∏µ‡∏¢‡∏á 10 TPS ‡∏ã‡∏∂‡πà‡∏á‡∏ñ‡∏∑‡∏≠‡∏ß‡πà‡∏≤‡∏£‡∏ß‡∏î‡πÄ‡∏£‡πá‡∏ß‡∏°‡∏≤‡∏Å‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö‡∏Å‡∏≤‡∏£‡πÉ‡∏ä‡πâ‡∏á‡∏≤‡∏ô‡∏à‡∏£‡∏¥‡∏á
3.  **‡∏Ñ‡∏ß‡∏≤‡∏°‡πÄ‡∏™‡∏ñ‡∏µ‡∏¢‡∏£**: ‡∏Å‡∏≤‡∏£‡πÉ‡∏ä‡πâ VRAM 90% ‡∏ä‡πà‡∏ß‡∏¢‡πÉ‡∏´‡πâ‡∏Ç‡πâ‡∏≤‡∏°‡∏Ç‡∏µ‡∏î‡∏à‡∏≥‡∏Å‡∏±‡∏î‡∏Ç‡∏≠‡∏á RAM 16GB ‡πÑ‡∏î‡πâ‡∏™‡∏≥‡πÄ‡∏£‡πá‡∏à‡πÇ‡∏î‡∏¢‡πÑ‡∏°‡πà‡∏°‡∏µ‡∏≠‡∏≤‡∏Å‡∏≤‡∏£ Killed ‡∏à‡∏≤‡∏Å‡∏£‡∏∞‡∏ö‡∏ö

### **‚è±Ô∏è Startup & Preparation Time**
‡πÄ‡∏û‡∏∑‡πà‡∏≠‡πÉ‡∏´‡πâ‡∏£‡∏∞‡∏ö‡∏ö‡∏û‡∏£‡πâ‡∏≠‡∏°‡πÉ‡∏ä‡πâ‡∏á‡∏≤‡∏ô (Ready to Inference) ‡∏ó‡πà‡∏≤‡∏ô‡∏ï‡πâ‡∏≠‡∏á‡πÄ‡∏ï‡∏£‡∏µ‡∏¢‡∏°‡πÄ‡∏ß‡∏•‡∏≤‡∏•‡πà‡∏ß‡∏á‡∏´‡∏ô‡πâ‡∏≤‡∏î‡∏±‡∏á‡∏ô‡∏µ‡πâ:

| ‡∏Ç‡∏±‡πâ‡∏ô‡∏ï‡∏≠‡∏ô | 4096 Baseline | 8192 Experiment |
| :--- | :---: | :---: |
| **Model Loading** | ~20-25 ‡∏ô‡∏≤‡∏ó‡∏µ | ~26 ‡∏ô‡∏≤‡∏ó‡∏µ |
| **Graph Capture / Compilation** | ~10-15 ‡∏ô‡∏≤‡∏ó‡∏µ | **~33 ‡∏ô‡∏≤‡∏ó‡∏µ** |
| **‡πÄ‡∏ß‡∏•‡∏≤‡∏£‡∏ß‡∏°‡πÄ‡∏£‡∏¥‡πà‡∏°‡∏ï‡πâ‡∏ô (Total Startup)** | **~35-40 ‡∏ô‡∏≤‡∏ó‡∏µ** | **~59 ‡∏ô‡∏≤‡∏ó‡∏µ** |

*‡∏´‡∏°‡∏≤‡∏¢‡πÄ‡∏´‡∏ï‡∏∏: 8192 ‡πÉ‡∏ä‡πâ‡πÄ‡∏ß‡∏•‡∏≤‡πÄ‡∏ï‡∏£‡∏µ‡∏¢‡∏° Graph ‡∏ô‡∏≤‡∏ô‡∏Å‡∏ß‡πà‡∏≤‡∏õ‡∏Å‡∏ï‡∏¥‡πÄ‡∏ô‡∏∑‡πà‡∏≠‡∏á‡∏à‡∏≤‡∏Å‡∏ï‡πâ‡∏≠‡∏á‡∏à‡∏≠‡∏á VRAM ‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö KV-cache ‡∏ó‡∏µ‡πà‡πÉ‡∏´‡∏ç‡πà‡∏Ç‡∏∂‡πâ‡∏ô*

---

## üìÅ Related Results
- [4096 Baseline Folder](file:///home/seiya/projects/vllm/docs/benchmarks/4096/)
- [8192 Experiment Folder](file:///home/seiya/projects/vllm/docs/benchmarks/8192/)
